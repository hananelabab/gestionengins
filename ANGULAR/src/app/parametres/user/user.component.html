<div class="col-12 grid-margin">
    <div class="card">
      <div class="card-body">
        <form class="form-sample">
          <div class="row">
  
            
            <div class="col-md-8">
          <h1 style="color: brown ;text-align: left=30%;"> Users</h1>
          <p class="card-description">
          </p>
          <div class="row">
            <div class="col-md-6">
              <div class="form-group row">
                <label class="col-sm-3 col-form-label"> Nom</label>
                <div class="col-sm-9">
                  <input  type="text"                 
                  [(ngModel)]="myText.nom"    
                                  name="nom" class="form-control"
                                  aria-describedby="helpId"
                                  placeholder="User Name" />
                </div>
                
              </div>
  
  
              <div class="form-group row">
                <label class="col-sm-3 col-form-label">   Prenom</label>
                     <div class="col-sm-9">
                        <input  type="text"                 
                        [(ngModel)]="myText.prenom"    
                                        name="prenom" class="form-control"  />
                   
                    </div>
                  </div>

                  <div class="form-group row">
                    <label class="col-sm-3 col-form-label">  Matricule</label>
                    <div class="col-sm-9">
                      <input 
                       type="text"  [(ngModel)]="myText.matricule"    
                      name="matricule" class="form-control" />
                    </div>
                    
                  </div>
                  <div class="form-group row">
                    <!-- <label class="col-sm-3 col-form-label">   Email</label>
                    <div class="col-sm-9">
                      <input  type="text"  [(ngModel)]="myText.email"    
                      name="email" class="form-control" />
                    </div> -->

                 
                    <label class="col-sm-3 col-form-label">   Email</label>
                    <div class="col-sm-9">
                      <input type="email" name="email" ng-model="email"
                          placeholder="Enter an Email "
                          ng-required=”true” 
                          ng-pattern=" ^[a-z]+[a-z0-9._-]+@[a-z]+\.[a-z.]{2,5}$"/>
                    
                          <div *ngIf="myText.email.errors || myText.email.touched">
                            <small class="text-danger" *ngIf="myText.email.errors.required">Primary email is required</small>
                        
                          </div>
                        </div> 
                    
                


                    
                  </div>
            </div>
            <div class="col-md-6">
  
                  <div class="form-group row">
                    <label  class="col-sm-3 col-form-label">    Password</label>
                    <div class="col-sm-9">
                      <input  type="text" [(ngModel)]="myText.password"    
                      name="password"  class="form-control"  aria-describedby="helpId"
                      placeholder="password" />
                    </div>
                  </div>

                  <div class="form-group row">
                    <label  class="col-sm-3 col-form-label">    Type</label>
                    <div class="col-sm-9">
                      <select [(ngModel)]="myText.type" name="type" id="type"  type="text" class='form-control'>
                        <option value="1">Conducteur</option>
                        <option value="2">Responsabl</option>
                        <option value="3">Admin</option>
                        </select>

                   
                    </div>
                    
                  </div>

                  <div class="form-group row">
                    <label  class="col-sm-3 col-form-label">    Entite</label>
                    <div class="col-sm-9">
                      <select class="form-control" name="id_entite" type="text"  id="id_entite"
                      [(ngModel)]="myText.id_entite">
                             <option [value]="item.id" *ngFor="let item of listeEnt" >
                              {{item.entite}}
                             </option> 
                       </select>
                    </div>
                    
                  </div>

                
              </div>
  
            </div>
           
            <button
            *ngIf ="!Rep"
            (click)="PostUser()"
            type="button"
            class="btn1 btn  btn-info add-new">
            <i class="fa fa-plus"></i>
            Add New</button>
          
        
            <div>
              <button *ngIf ="Rep" (click)="PutUser()" type="button" class="btn1 btn  btn btn-warning">
                <i class="fa fa-plus"></i>
                Update</button>
      
            </div>
           
            </div>
            </div>
         
        </form>
      </div>
    </div>
  </div>
  
  
  <div class="col-lg-12 grid-margin stretch-card">
      <div class="card">
        <div class="card-body">
           <br>
    
          <h1 style="color: brown ;text-align: center;">Liste Users</h1>
          <div>
            </div>
          <p class="card-description">
          </p>
          
          <div class="table-responsive pt-3">
            <table class="table table-bordered">
              <thead>
                <tr>
                  <td>
                    Id
                </td>
                    
                  <td>
                    Nom
                </td>
                 
                  <td>
                    Prenom
                </td>
                  
                  <td>
                    Matricule
                </td>
                  <td>
                    Email
                </td>
                  <td>
                    Password
                </td>
                <td>
                  type
                  <td>
                    Entite
                </td>
               
                  <td>
                    Actions
                  </td>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor ="let item of listeUser | paginate  : {   itemsPerPage: tableSize, currentPage: page,  totalItems: count    };   let i = index" >
                  <td>
                    {{item.id}}
                  </td>
                  <td>
                    {{item.nom}}
                  </td>
                  <td>
                    {{item.prenom}}
  
                  </td>
                  <td>
                    {{item.matricule}}
                  </td>
                  <td>
                    {{item.email}}
                  </td>
                  <td>
                    {{item.password }}
                  </td>
                  <td>
                    {{item.type }}
                  </td>
                  <td>
                    {{item.entite.entite}}
                  </td>
                 
                 
                  <td>
                    <button
                    (click)="deleteUser(item.id)"
                    type="button"
                    class="btn btn-danger">Delete</button>
  
                <!---Button Modifier -->
                <button
                    (click)="editUser(item)"
                    type="button"
                    class="btn btn-warning  ml-2">Update</button>   </td>
                  
                </tr>
    
              </tbody>
            </table>
            <div class="col-md-4 col-sm-6 grid-margin stretch-card">
              <pagination-controls
              previousLabel="Prev"
              nextLabel="Next"
              (pageChange)="onTableDataChange($event)"
            >
            </pagination-controls>
            </div>
           
  
          </div>
        </div>
      </div>
    </div>
   
    
    