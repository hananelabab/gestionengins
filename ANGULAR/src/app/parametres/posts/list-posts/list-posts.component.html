



<div class="col-12 grid-margin">
  <div class="card">
    <div class="card-body">
      <form class="form-sample">

        <h1 style="color: brown ;text-align: left=30%;"> Posts</h1>
        <p class="card-description">
        </p>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-sm-3 col-form-label">         Code Post</label>
              <div class="col-sm-9">
                <input  type="text"                 
                [(ngModel)]="myText.codePost"    
                                name="codePost" id="codePost" type="number" class="form-control" />
              </div>
              
            </div>


           
            <div class="form-group row">
              <label class="col-sm-3 col-form-label">      Entite</label>
                   <div class="col-sm-9">
                  


                   <select class="form-control" name="entite" type="text"  id="entite"
                      [(ngModel)]="myText.entite" name="entite" type="text"  id="entite">
                             <option [value]="item.id" *ngFor="let item of listeEnt" name="entite" type="text"  id="entite" >
                         
                              {{item.entite}}
                           
                             </option> 
                       </select>
                  </div>
                </div>


               

              
          
</div>
          </div>
         
       
        
      
          <div>
            <button
            *ngIf ="!Rep"
            (click)="PostPost()"
            type="button"
            class="btn1 btn  btn-info add-new">
            <i class="fa fa-plus"></i>
            Add New</button>
          </div> 
        
            <div>
              <button *ngIf ="Rep" (click)="PutPost()" type="button" class="btn1 btn  btn btn-warning">
                <i class="fa fa-plus"></i>
                Update</button>
      
            </div>      
      
      </form>
    </div>
  </div>
</div>


<div class="col-lg-12 grid-margin stretch-card">
  <div class="card">
    <div class="card-body">
    
      <br>

      <h1 style="color: brown ;text-align: center;">Liste posts</h1>
      <p class="card-description">
      </p>
    
      <div class="table-responsive pt-3">
        <table class="table table-bordered">
          <thead>
            <tr>
              <td>
                 Code Post
              </td>
              <td>
                 Entite
              </td>
              
            
              <td>
                Actions
              </td>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of Listeposts | paginate  : {   itemsPerPage: tableSize, currentPage: page,  totalItems: count    };   let i = index">
              <td>
                {{item.codePost}}
              </td>
              <td>
               {{item.entite.entite}}
              </td>
            
            
              
              
            
              <td>
                <button
                (click)="deletePost(item.codePost)"
                type="button"
                class="btn btn-danger">Delete
              </button>

            <!---Button Modifier -->                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
            <button
                (click)="editPost(item)"
                type="button"
                class="btn btn-warning  ml-2">Update
              </button>  
             </td>
            </tr>

          </tbody>
        </table>
        <div class="col-md-4 col-sm-6 grid-margin stretch-card">
          <pagination-controls
          previousLabel="Prev"
          nextLabel="Next"
          (pageChange)="onTableDataChange($event)"
        >
        </pagination-controls>
        </div>
      </div>
    </div>
  </div>
</div>

